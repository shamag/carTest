function detectLeftButton(e){if(e=e||window.event,"buttons"in e)return 1==e.buttons;var n=e.which||e.button;return 1==n}function getName(e){return e.split("icon-")[1].split(".png")[0].split("_").join()}for(var iconsList=["icon-Applicons.png","icon-AppStore.png","icon-Burnable.png","icon-Calculator.png","icon-CalendarBlank.png","icon-CalendarOfficial.png","icon-Calendar.png","icon-Camera.png","icon-CandyBar.png","icon-Clock.png","icon-CloudApp.png","icon-Cobook.png","icon-Compass.png","icon-Contacts.png","icon-DesignBriefs.png","icon-Developer.png","icon-Dictionary.png","icon-Doo.png","icon-Downloads.png","icon-DropStuff.png","icon-EasyFind.png","icon-FaceTime.png","icon-Finder.png","icon-FontExplorerX.png","icon-Game_Centeralt2.png","icon-Game_Centeralt3.png","icon-Game_Centeralt4.png","icon-Gemini.png","icon-Idea_Stuff_2.png","icon-Idea_Stuff.png","icon-Illustrator.png","icon-InDesign.png","icon-Internal.png","icon-iTunes_Store.png","icon-LaCie_FA_Porsche_2.png","icon-LaCie_FA_Porsche.png","icon-LaCie_Neil_Poulton.png","icon-LaCie_Rugged_2.png","icon-LaCie_Rugged.png","icon-Library.png","icon-Mail.png","icon-Maps.png","icon-Messages.png","icon-Misc_Designs_01.png","icon-Monosnap.png","icon-Music.png","icon-Newsstand.png","icon-Notes.png","icon-Passbook.png","icon-Phone.png","icon-Photoshop.png","icon-Photos.png","icon-Preview.png","icon-Reminders.png","icon-RSS_Notifier.png","icon-Safari.png","icon-Settings.png","icon-Smart.png","icon-Stocks.png","icon-System.png","icon-Time_Machine_Disk.png","icon-Time_Machine.png","icon-Trash_Empty.png","icon-Trash_Full.png","icon-Trash_Managed.png","icon-Twitter.png","icon-Users.png","icon-Videos.png","icon-Weather.png"],menuList=["icon-Applicons.png","icon-Messages.png","icon-Stocks.png","icon-Library.png","icon-Preview.png","icon-Contacts.png"],screensEl=document.querySelector(".device-screens"),pager=document.querySelector(".device-pager>ul"),menu=document.querySelector(".device-menu"),popup=document.querySelector(".device-popup"),dragEl=null,dragName=void 0,dragImg=void 0,dragSrc=void 0,i=0;i<Math.ceil(iconsList.length/20);i++){var el=document.createElement("div");el.className="device-screen",screensEl.appendChild(el);var pagerLi=document.createElement("li");pager.appendChild(pagerLi)}pager.querySelector("li").className="active",menuList.forEach(function(e,n){var i=document.createElement("div");i.className="device-app",i.innerHTML='<div class="device-app-icon"><img src="img/icons/'+menuList[n]+'" alt=""></div>\n                       <div class="device-app-name">'+getName(menuList[n])+"</div>",menu.appendChild(i)}),iconsList.forEach(function(e,n){var i=screensEl.querySelectorAll(".device-screen")[Math.floor(n/20)],c=document.createElement("div");c.className="device-app",c.innerHTML='<div class="device-app-icon"><img src="img/icons/'+iconsList[n]+'" alt=""></div>\n                       <div class="device-app-name">'+getName(iconsList[n])+"</div>",i.appendChild(c)});var pagerSelector=".device-pager>ul>li";Array.prototype.forEach.call(menu.querySelectorAll(".device-app-icon"),function(e){e.addEventListener("click",function(){var n=e.querySelector("img").getAttribute("src");popup.querySelector(".device-popup-icon").style.background="url("+n+") no-repeat center",popup.className=popup.className+" active"})}),popup.addEventListener("click",function(){popup.className="device-popup"});var pageList=Array.prototype.slice.call(document.querySelectorAll(pagerSelector)),appList=Array.prototype.slice.call(document.querySelectorAll(".device-app"));pageList.forEach(function(e){e.addEventListener("click",function(e){var n=pageList.indexOf(e.target);screensEl.style.transform="translateX("+-100*n+"%)",pageList.forEach(function(e){e.className=""}),e.target.className="active"})}),appList.forEach(function(e){e.querySelector(".device-app-icon").addEventListener("mousedown",function(n){detectLeftButton(n)&&(dragSrc=e,document.querySelector("body").style.cursor="move",dragEl=document.createElement("div"),dragEl.className="drag-element",dragName=e.querySelector(".device-app-name").innerHTML,dragImg=e.querySelector("img").getAttribute("src"),dragEl.style.background="url("+dragImg+") no-repeat center",document.querySelector("body").appendChild(dragEl),n.preventDefault())})}),window.addEventListener("mouseup",function(e){var n=e.target.parentNode;if(document.querySelector("body").style.cursor="inherit","device-app-icon"===n.className){var i=e.target.getAttribute("src"),c=n.parentNode.querySelector(".device-app-name");dragSrc.querySelector("img").setAttribute("src",i),e.target.setAttribute("src",dragImg),dragSrc.querySelector(".device-app-name").innerHTML=c.innerHTML,c.innerHTML=dragName}dragEl&&dragEl.parentNode.removeChild(dragEl),dragEl=null}),window.addEventListener("mousemove",function(e){dragEl&&(dragEl.style.left=e.pageX+10+"px",dragEl.style.top=e.pageY+10+"px")});